"use strict";(globalThis.webpackChunkx_currency=globalThis.webpackChunkx_currency||[]).push([[903],{1647:(e,t,r)=>{r.d(t,{A:()=>f});var n=r(1609),o=r(1455),c=r.n(o),a=r(104),i=r(3517),u=r(7823),l=r(204);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function f(){var e,t,r=(e=(0,n.useState)(!1),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,c,a,i=[],u=!0,l=!1;try{if(c=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=c.call(r)).done)&&(i.push(n.value),i.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],f=r[1],p=x_currency.has_optincraft;return React.createElement(React.Fragment,null,"0"===p&&React.createElement(i.A,{message:(0,a.__)("Enable Currency Selection Popup","x-currency"),description:React.createElement(React.Fragment,null,(0,a.__)("Display a welcome popup allowing visitors to choose their preferred currency when they first arrive at your site. Click the Setup button to configure and activate this feature.","x-currency")),type:"warning",showIcon:!0,action:React.createElement(u.Ay,{size:"middle",type:"primary",style:{flexShrink:0},onClick:function(){f(!0),c()({path:"/x-currency/admin/setup-optincraft",method:"POST"}).then(function(e){l.Ay.success((0,a.__)("Popup setup successfully.","x-currency")),x_currency.has_optincraft="1"}).finally(function(){f(!1)})},loading:o},(0,a.__)("Setup","x-currency")),style:{margin:"auto",marginBottom:20,maxWidth:"1400px"}}))}},7903:(e,t,r)=>{r.r(t),r.d(t,{default:()=>Me});var n,o,c,a,i=r(8684),u=r(6427),l=r(104),s=r(4809),f=r(9491),p=r(7143),d=r(6087),y=r(2619),m=r(923),v=r(7823),h=r(3069),b=r(4299),g=r(7333),w=r(3160),x=r(7396);function S(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(0,x.A)(u.Flex)(n||(n=S(["\n\tgap: 12px;\n\n\t.flag img {\n\t\twidth: 40px;\n\t\theight: 40px;\n\t\tborder-radius: 5px;\n\t}\n\n\t.information {\n\t\t.top {\n\t\t\tdisplay: flex;\n\t\t\tgap: 6px;\n\t\t\tmargin-bottom: 4px;\n\n\t\t\t.name {\n\t\t\t\tcolor: var( --Dark-01, #252525 );\n\t\t\t\ttext-overflow: ellipsis;\n\t\t\t\tfont-family: Inter;\n\t\t\t\tfont-size: 16px;\n\t\t\t\tfont-style: normal;\n\t\t\t\tfont-weight: 500;\n\t\t\t\tline-height: 22px;\n\t\t\t}\n\t\t}\n\n\t\t.bottom {\n\t\t\tdisplay: block;\n\t\t\tcolor: var( --Dark-03, #656565 );\n\t\t\tfont-family: Inter;\n\t\t\tfont-size: 14px;\n\t\t\tfont-style: normal;\n\t\t\tfont-weight: 400;\n\t\t\tline-height: 20px;\n\t\t}\n\t}\n"])));var E=(0,x.A)(g.A)(o||(o=S(["\n\tmax-width: 1400px;\n\tmargin: auto !important;\n"]))),_=(0,x.A)(w.A)(c||(c=S(["\n\tpadding-top: 32px;\n\t.ant-drawer-body {\n\t\tposition: relative;\n\t}\n\t.ant-drawer-footer {\n\t\tpadding-top: 16px;\n\t\tpadding-bottom: 16px;\n\t}\n"]))),A=(x.A.div(a||(a=S(["\n\twidth: 100%;\n\tbackground: #fafafa;\n\tpadding: 24px;\n\ttop: 0;\n\tleft: 0;\n\tposition: absolute;\n"]))),r(3607)),R=r(204),O=r(1455),k=r.n(O),j=r(4058),T=r(117),C=r(515),F=r(8754),I=r(6432),P=r(5010),G=r(6565);function N(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function c(r,n,o,c){var u=n&&n.prototype instanceof i?n:i,l=Object.create(u.prototype);return B(l,"_invoke",function(r,n,o){var c,i,u,l=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,r){return c=t,i=0,u=e,p.n=r,a}};function d(r,n){for(i=r,u=n,t=0;!f&&l&&!o&&t<s.length;t++){var o,c=s[t],d=p.p,y=c[2];r>3?(o=y===n)&&(u=c[(i=c[4])?5:(i=3,3)],c[4]=c[5]=e):c[0]<=d&&((o=r<2&&d<c[1])?(i=0,p.v=n,p.n=c[1]):d<y&&(o=r<3||c[0]>n||n>y)&&(c[4]=r,c[5]=n,p.n=y,i=0))}if(o||r>1)return a;throw f=!0,n}return function(o,s,y){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,y),i=s,u=y;(t=i<2?e:u)||!f;){c||(i?i<3?(i>1&&(p.n=-1),d(i,u)):p.n=u:p.v=u);try{if(l=2,c){if(i||(o="next"),t=c[o]){if(!(t=t.call(c,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,i<2&&(i=0)}else 1===i&&(t=c.return)&&t.call(c),i<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),i=1);c=e}else if((t=(f=p.n<0)?u:r.call(n,p))!==a)break}catch(t){c=e,i=1,u=t}finally{l=1}}return{value:t,done:f}}}(r,o,c),!0),l}var a={};function i(){}function u(){}function l(){}t=Object.getPrototypeOf;var s=[][n]?t(t([][n]())):(B(t={},n,function(){return this}),t),f=l.prototype=i.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,B(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=l,B(f,"constructor",l),B(l,"constructor",u),u.displayName="GeneratorFunction",B(l,o,"GeneratorFunction"),B(f),B(f,o,"Generator"),B(f,n,function(){return this}),B(f,"toString",function(){return"[object Generator]"}),(N=function(){return{w:c,m:p}})()}function B(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}B=function(e,t,r,n){function c(t,r){B(e,t,function(e){return this._invoke(t,r,e)})}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(c("next",0),c("throw",1),c("return",2))},B(e,t,r,n)}function D(e,t,r,n,o,c,a){try{var i=e[c](a),u=i.value}catch(e){return void r(e)}i.done?t(u):Promise.resolve(u).then(n,o)}function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,c,a,i=[],u=!0,l=!1;try{if(c=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=c.call(r)).done)&&(i.push(n.value),i.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return M(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?M(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const H=function(e){var t=e.form,r=e.selectedType,n=e.setSelectedType,o=e.initialValues,c=void 0===o?{template:"default"}:o,a=e.disabled,i=z((0,d.useState)(c.template),2),u=i[0],s=i[1],f=z((0,d.useState)([]),2),p=f[0],y=f[1],m="sticky"===r?x_currency.premade_templates.sticky_switchers:x_currency.premade_templates.general_switchers;return(0,d.useEffect)(function(){function e(){var t;return t=N().m(function e(){var t;return N().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,k()({path:"x-currency/admin/pages"});case 1:t=e.v,y(t.data);case 2:return e.a(2)}},e)}),e=function(){var e=this,r=arguments;return new Promise(function(n,o){var c=t.apply(e,r);function a(e){D(c,n,o,a,i,"next",e)}function i(e){D(c,n,o,a,i,"throw",e)}a(void 0)})},e.apply(this,arguments)}!function(){e.apply(this,arguments)}()},[]),React.createElement(A.A,{form:t,name:"validateOnly",layout:"vertical",autoComplete:"off",size:"large",initialValues:c,disabled:a},React.createElement(A.A.Item,{name:"active",label:(0,l.__)("Active","x-currency"),rules:[{required:!0}]},React.createElement(j.A,{checkedChildren:(0,l.__)("Yes","x-currency"),unCheckedChildren:(0,l.__)("No","x-currency")})),React.createElement(A.A.Item,{name:"name",label:(0,l.__)("Switcher Name","x-currency"),rules:[{required:!0}],style:{borderBottom:"1px solid #d9d9d9",paddingBottom:"16px"}},React.createElement(T.A,null)),React.createElement(A.A.Item,{name:"type",label:(0,l.__)("Switcher Type","x-currency"),rules:[{required:!0}],style:{borderBottom:"1px solid #d9d9d9",paddingBottom:"16px"}},React.createElement(C.A,{onChange:function(e){t.setFieldsValue({template:"template-1"}),s("template-1"),n(e)}},React.createElement(C.A.Option,{value:"general"},(0,l.__)("General","x-currency")),React.createElement(C.A.Option,{value:"sticky"},(0,l.__)("Sticky","x-currency")))),"sticky"===r&&(0,G.$)()&&React.createElement(A.A.Item,{name:"page",label:(0,l.__)("Show Page","x-currency"),rules:[{required:!0}],style:{borderBottom:"1px solid #d9d9d9",paddingBottom:"16px"}},React.createElement(C.A,{options:p})),React.createElement(A.A.Item,{name:"template",label:(0,l.__)("Template","x-currency"),rules:[{required:!0}]},React.createElement(F.Ay.Group,null,React.createElement(I.A,{gutter:[16,16]},m.map(function(e){return React.createElement(P.A,{span:8,key:e.value,style:{width:"659px"}},React.createElement(g.A,{hoverable:!0,cover:React.createElement("img",{alt:e.label,src:e.preview_url,style:{height:"220px"}}),onClick:function(){t.setFieldsValue({template:e.value}),s(e.value)},styles:{cover:{borderTop:"1px solid ".concat(u===e.value?"#1f66ff":"rgb(240, 240, 240)"),borderLeft:"1px solid ".concat(u===e.value?"#1f66ff":"rgb(240, 240, 240)"),borderRight:"1px solid ".concat(u===e.value?"#1f66ff":"rgb(240, 240, 240)"),borderBottom:"none",borderRadius:"8px"},body:{borderTop:"1px solid ".concat(u===e.value?"#1f66ff":"rgb(240, 240, 240)")}},style:{border:"1px solid ".concat(u===e.value?"#1f66ff":"rgb(240, 240, 240)")}},React.createElement(F.Ay,{value:e.value,style:{position:"absolute",top:8,right:8}}),React.createElement(g.A.Meta,{title:e.label})))})))))};function W(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function c(r,n,o,c){var u=n&&n.prototype instanceof i?n:i,l=Object.create(u.prototype);return V(l,"_invoke",function(r,n,o){var c,i,u,l=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,r){return c=t,i=0,u=e,p.n=r,a}};function d(r,n){for(i=r,u=n,t=0;!f&&l&&!o&&t<s.length;t++){var o,c=s[t],d=p.p,y=c[2];r>3?(o=y===n)&&(u=c[(i=c[4])?5:(i=3,3)],c[4]=c[5]=e):c[0]<=d&&((o=r<2&&d<c[1])?(i=0,p.v=n,p.n=c[1]):d<y&&(o=r<3||c[0]>n||n>y)&&(c[4]=r,c[5]=n,p.n=y,i=0))}if(o||r>1)return a;throw f=!0,n}return function(o,s,y){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,y),i=s,u=y;(t=i<2?e:u)||!f;){c||(i?i<3?(i>1&&(p.n=-1),d(i,u)):p.n=u:p.v=u);try{if(l=2,c){if(i||(o="next"),t=c[o]){if(!(t=t.call(c,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,i<2&&(i=0)}else 1===i&&(t=c.return)&&t.call(c),i<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),i=1);c=e}else if((t=(f=p.n<0)?u:r.call(n,p))!==a)break}catch(t){c=e,i=1,u=t}finally{l=1}}return{value:t,done:f}}}(r,o,c),!0),l}var a={};function i(){}function u(){}function l(){}t=Object.getPrototypeOf;var s=[][n]?t(t([][n]())):(V(t={},n,function(){return this}),t),f=l.prototype=i.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,V(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=l,V(f,"constructor",l),V(l,"constructor",u),u.displayName="GeneratorFunction",V(l,o,"GeneratorFunction"),V(f),V(f,o,"Generator"),V(f,n,function(){return this}),V(f,"toString",function(){return"[object Generator]"}),(W=function(){return{w:c,m:p}})()}function V(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}V=function(e,t,r,n){function c(t,r){V(e,t,function(e){return this._invoke(t,r,e)})}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(c("next",0),c("throw",1),c("return",2))},V(e,t,r,n)}function $(e,t,r,n,o,c,a){try{var i=e[c](a),u=i.value}catch(e){return void r(e)}i.done?t(u):Promise.resolve(u).then(n,o)}function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,c,a,i=[],u=!0,l=!1;try{if(c=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=c.call(r)).done)&&(i.push(n.value),i.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return U(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?U(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const L=function(){var e=q((0,d.useState)(!1),2),t=e[0],r=e[1],n=q((0,d.useState)(!1),2),o=n[0],c=n[1],a=q((0,d.useState)("general"),2),i=a[0],u=a[1],s=q(A.A.useForm(),1)[0],f=function(){r(!1),u("general"),s.resetFields()};(0,d.useEffect)(function(){return(0,y.addAction)("x-currency-show-switcher-drawer","x-currency",r),function(){(0,y.removeAction)("x-currency-show-switcher-drawer","x-currency",r)}},[]);var h=function(){var e,t=(e=W().m(function e(){var t,r,n,o;return W().w(function(e){for(;;)switch(e.p=e.n){case 0:return t=(0,p.dispatch)(m.A.SWITCHERS),r=t.createNewSwitcher,c(!0),e.p=1,e.n=2,s.validateFields();case 2:return e.n=3,r(s.getFieldsValue());case 3:n=e.v,R.Ay.success(n.message),f(),e.n=5;break;case 4:e.p=4,o=e.v,R.Ay.error(o.message),console.error("Submission failed:",o);case 5:return e.p=5,c(!1),e.f(5);case 6:return e.a(2)}},e,null,[[1,4,5,6]])}),function(){var t=this,r=arguments;return new Promise(function(n,o){var c=e.apply(t,r);function a(e){$(c,n,o,a,i,"next",e)}function i(e){$(c,n,o,a,i,"throw",e)}a(void 0)})});return function(){return t.apply(this,arguments)}}();return React.createElement(_,{title:(0,l.__)("New Switcher","x-currency"),placement:"right",width:700,onClose:f,open:t,footer:React.createElement(v.Ay,{type:"primary",size:"large",onClick:h,loading:o},(0,l.__)("Create New Switcher","x-currency"))},React.createElement(H,{form:s,selectedType:i,setSelectedType:u,initialValues:{active:!0,name:"Switcher #".concat(Math.floor(1e6*Math.random())),type:"general",template:"template-1",page:"all"},disabled:o}))};function Y(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function c(r,n,o,c){var u=n&&n.prototype instanceof i?n:i,l=Object.create(u.prototype);return K(l,"_invoke",function(r,n,o){var c,i,u,l=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,r){return c=t,i=0,u=e,p.n=r,a}};function d(r,n){for(i=r,u=n,t=0;!f&&l&&!o&&t<s.length;t++){var o,c=s[t],d=p.p,y=c[2];r>3?(o=y===n)&&(u=c[(i=c[4])?5:(i=3,3)],c[4]=c[5]=e):c[0]<=d&&((o=r<2&&d<c[1])?(i=0,p.v=n,p.n=c[1]):d<y&&(o=r<3||c[0]>n||n>y)&&(c[4]=r,c[5]=n,p.n=y,i=0))}if(o||r>1)return a;throw f=!0,n}return function(o,s,y){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,y),i=s,u=y;(t=i<2?e:u)||!f;){c||(i?i<3?(i>1&&(p.n=-1),d(i,u)):p.n=u:p.v=u);try{if(l=2,c){if(i||(o="next"),t=c[o]){if(!(t=t.call(c,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,i<2&&(i=0)}else 1===i&&(t=c.return)&&t.call(c),i<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),i=1);c=e}else if((t=(f=p.n<0)?u:r.call(n,p))!==a)break}catch(t){c=e,i=1,u=t}finally{l=1}}return{value:t,done:f}}}(r,o,c),!0),l}var a={};function i(){}function u(){}function l(){}t=Object.getPrototypeOf;var s=[][n]?t(t([][n]())):(K(t={},n,function(){return this}),t),f=l.prototype=i.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,K(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=l,K(f,"constructor",l),K(l,"constructor",u),u.displayName="GeneratorFunction",K(l,o,"GeneratorFunction"),K(f),K(f,o,"Generator"),K(f,n,function(){return this}),K(f,"toString",function(){return"[object Generator]"}),(Y=function(){return{w:c,m:p}})()}function K(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}K=function(e,t,r,n){function c(t,r){K(e,t,function(e){return this._invoke(t,r,e)})}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(c("next",0),c("throw",1),c("return",2))},K(e,t,r,n)}function J(e,t,r,n,o,c,a){try{var i=e[c](a),u=i.value}catch(e){return void r(e)}i.done?t(u):Promise.resolve(u).then(n,o)}var Q=function(){var e,t=(e=Y().m(function e(t,r){var n,o,c,a;return Y().w(function(e){for(;;)switch(e.p=e.n){case 0:return n=(0,p.dispatch)(m.A.SWITCHERS),o=n.switchSwitcherStatusById,e.p=1,e.n=2,o(t,r);case 2:c=e.v,R.Ay.success(c.message),e.n=4;break;case 3:e.p=3,a=e.v,R.Ay.error(a.message);case 4:return e.a(2)}},e,null,[[1,3]])}),function(){var t=this,r=arguments;return new Promise(function(n,o){var c=e.apply(t,r);function a(e){J(c,n,o,a,i,"next",e)}function i(e){J(c,n,o,a,i,"throw",e)}a(void 0)})});return function(_x,e){return t.apply(this,arguments)}}(),X=r(4214),Z=r(6632),ee=r(2759);function te(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function c(r,n,o,c){var u=n&&n.prototype instanceof i?n:i,l=Object.create(u.prototype);return re(l,"_invoke",function(r,n,o){var c,i,u,l=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,r){return c=t,i=0,u=e,p.n=r,a}};function d(r,n){for(i=r,u=n,t=0;!f&&l&&!o&&t<s.length;t++){var o,c=s[t],d=p.p,y=c[2];r>3?(o=y===n)&&(u=c[(i=c[4])?5:(i=3,3)],c[4]=c[5]=e):c[0]<=d&&((o=r<2&&d<c[1])?(i=0,p.v=n,p.n=c[1]):d<y&&(o=r<3||c[0]>n||n>y)&&(c[4]=r,c[5]=n,p.n=y,i=0))}if(o||r>1)return a;throw f=!0,n}return function(o,s,y){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,y),i=s,u=y;(t=i<2?e:u)||!f;){c||(i?i<3?(i>1&&(p.n=-1),d(i,u)):p.n=u:p.v=u);try{if(l=2,c){if(i||(o="next"),t=c[o]){if(!(t=t.call(c,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,i<2&&(i=0)}else 1===i&&(t=c.return)&&t.call(c),i<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),i=1);c=e}else if((t=(f=p.n<0)?u:r.call(n,p))!==a)break}catch(t){c=e,i=1,u=t}finally{l=1}}return{value:t,done:f}}}(r,o,c),!0),l}var a={};function i(){}function u(){}function l(){}t=Object.getPrototypeOf;var s=[][n]?t(t([][n]())):(re(t={},n,function(){return this}),t),f=l.prototype=i.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,re(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=l,re(f,"constructor",l),re(l,"constructor",u),u.displayName="GeneratorFunction",re(l,o,"GeneratorFunction"),re(f),re(f,o,"Generator"),re(f,n,function(){return this}),re(f,"toString",function(){return"[object Generator]"}),(te=function(){return{w:c,m:p}})()}function re(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}re=function(e,t,r,n){function c(t,r){re(e,t,function(e){return this._invoke(t,r,e)})}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(c("next",0),c("throw",1),c("return",2))},re(e,t,r,n)}function ne(e,t,r,n,o,c,a){try{var i=e[c](a),u=i.value}catch(e){return void r(e)}i.done?t(u):Promise.resolve(u).then(n,o)}var oe=function(){var e,t=(e=te().m(function e(t){var r,n,o,c;return te().w(function(e){for(;;)switch(e.p=e.n){case 0:return r=(0,p.dispatch)(m.A.SWITCHERS),n=r.deleteSingleSwitcher,e.p=1,e.n=2,n(t);case 2:o=e.v,R.Ay.success(o.message),e.n=4;break;case 3:e.p=3,c=e.v,R.Ay.error(c.message);case 4:return e.a(2)}},e,null,[[1,3]])}),function(){var t=this,r=arguments;return new Promise(function(n,o){var c=e.apply(t,r);function a(e){ne(c,n,o,a,i,"next",e)}function i(e){ne(c,n,o,a,i,"throw",e)}a(void 0)})});return function(_x){return t.apply(this,arguments)}}(),ce=r(9664);function ae(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function c(r,n,o,c){var u=n&&n.prototype instanceof i?n:i,l=Object.create(u.prototype);return ie(l,"_invoke",function(r,n,o){var c,i,u,l=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,r){return c=t,i=0,u=e,p.n=r,a}};function d(r,n){for(i=r,u=n,t=0;!f&&l&&!o&&t<s.length;t++){var o,c=s[t],d=p.p,y=c[2];r>3?(o=y===n)&&(u=c[(i=c[4])?5:(i=3,3)],c[4]=c[5]=e):c[0]<=d&&((o=r<2&&d<c[1])?(i=0,p.v=n,p.n=c[1]):d<y&&(o=r<3||c[0]>n||n>y)&&(c[4]=r,c[5]=n,p.n=y,i=0))}if(o||r>1)return a;throw f=!0,n}return function(o,s,y){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,y),i=s,u=y;(t=i<2?e:u)||!f;){c||(i?i<3?(i>1&&(p.n=-1),d(i,u)):p.n=u:p.v=u);try{if(l=2,c){if(i||(o="next"),t=c[o]){if(!(t=t.call(c,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,i<2&&(i=0)}else 1===i&&(t=c.return)&&t.call(c),i<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),i=1);c=e}else if((t=(f=p.n<0)?u:r.call(n,p))!==a)break}catch(t){c=e,i=1,u=t}finally{l=1}}return{value:t,done:f}}}(r,o,c),!0),l}var a={};function i(){}function u(){}function l(){}t=Object.getPrototypeOf;var s=[][n]?t(t([][n]())):(ie(t={},n,function(){return this}),t),f=l.prototype=i.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,ie(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=l,ie(f,"constructor",l),ie(l,"constructor",u),u.displayName="GeneratorFunction",ie(l,o,"GeneratorFunction"),ie(f),ie(f,o,"Generator"),ie(f,n,function(){return this}),ie(f,"toString",function(){return"[object Generator]"}),(ae=function(){return{w:c,m:p}})()}function ie(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}ie=function(e,t,r,n){function c(t,r){ie(e,t,function(e){return this._invoke(t,r,e)})}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(c("next",0),c("throw",1),c("return",2))},ie(e,t,r,n)}function ue(e,t,r,n,o,c,a){try{var i=e[c](a),u=i.value}catch(e){return void r(e)}i.done?t(u):Promise.resolve(u).then(n,o)}var le=function(){var e,t=(e=ae().m(function e(t){var r,n;return ae().w(function(e){for(;;)switch(e.p=e.n){case 0:if(!navigator.clipboard){e.n=5;break}return e.p=1,e.n=2,navigator.clipboard.writeText(t||"");case 2:R.Ay.success("Shortcode copied to clipboard!"),e.n=4;break;case 3:e.p=3,n=e.v,console.error("Failed to copy text to clipboard:",n),R.Ay.error("Failed to copy Shortcode.");case 4:e.n=6;break;case 5:(r=document.createElement("textarea")).value=t||"",document.body.appendChild(r),r.select();try{document.execCommand("copy")&&R.Ay.success("Shortcode copied to clipboard!")}catch(e){console.error("Failed to copy text using execCommand:",e),R.Ay.error("Failed to copy Shortcode.")}document.body.removeChild(r);case 6:return e.a(2)}},e,null,[[1,3]])}),function(){var t=this,r=arguments;return new Promise(function(n,o){var c=e.apply(t,r);function a(e){ue(c,n,o,a,i,"next",e)}function i(e){ue(c,n,o,a,i,"throw",e)}a(void 0)})});return function(_x){return t.apply(this,arguments)}}();const se=[{title:(0,l.__)("Name","x-currency"),dataIndex:"name",key:"name"},{title:(0,l.__)("Type","x-currency"),dataIndex:"type",key:"type",render:function(e){return"shortcode"===e||"general"===e?"General":"Sticky"}},{title:(0,l.__)("ShortCode","x-currency"),dataIndex:"short_code",key:"short_code",width:"280px",render:function(e,t){if("shortcode"===t.type||"general"===t.type)return React.createElement(T.A,{readOnly:!0,value:e||"",suffix:React.createElement(v.Ay,{size:"small",icon:React.createElement(ce.A,null),onClick:function(){return le(e)}})})}},{title:(0,l.__)("Status","x-currency"),dataIndex:"active",key:"active",align:"right",render:function(e,t){return React.createElement(u.Flex,null,React.createElement(u.FlexBlock,null,(0,l.__)("Active","x-currency")),React.createElement(u.FlexItem,null,React.createElement(j.A,{checked:e,loading:t.isUpdatingStatus,onClick:function(){return Q(t.id,e)}})))}},{title:(0,l.__)("Action","x-currency"),dataIndex:"id",key:"action",align:"right",render:function(e){var t=x_currency.base_currency_id===e;return React.createElement(u.Flex,null,React.createElement(u.FlexBlock,null,React.createElement(v.Ay,{icon:React.createElement(Z.A,null),onClick:function(){return function(e){(0,y.doAction)("x-currency-show-switcher-customizer",!0,e)}(e)}},(0,l.__)("Edit","x-currency"))),React.createElement(u.FlexItem,null,React.createElement(X.A,{placement:"bottomRight",title:(0,l.__)("Are you sure to delete this switcher?","x-currency"),okText:(0,l.__)("Yes","x-currency"),cancelText:(0,l.__)("No","x-currency"),onConfirm:function(){return oe(e)},disabled:t},React.createElement(v.Ay,{type:"primary",icon:React.createElement(ee.A,null),disabled:t,danger:!0}))))}}];var fe,pe=r(4997),de=r(4715),ye=r(9363),me=r(8468),ve=r(9770),he=r(2505),be=r(6650),ge=r(4902);function we(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function c(r,n,o,c){var u=n&&n.prototype instanceof i?n:i,l=Object.create(u.prototype);return xe(l,"_invoke",function(r,n,o){var c,i,u,l=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,r){return c=t,i=0,u=e,p.n=r,a}};function d(r,n){for(i=r,u=n,t=0;!f&&l&&!o&&t<s.length;t++){var o,c=s[t],d=p.p,y=c[2];r>3?(o=y===n)&&(u=c[(i=c[4])?5:(i=3,3)],c[4]=c[5]=e):c[0]<=d&&((o=r<2&&d<c[1])?(i=0,p.v=n,p.n=c[1]):d<y&&(o=r<3||c[0]>n||n>y)&&(c[4]=r,c[5]=n,p.n=y,i=0))}if(o||r>1)return a;throw f=!0,n}return function(o,s,y){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,y),i=s,u=y;(t=i<2?e:u)||!f;){c||(i?i<3?(i>1&&(p.n=-1),d(i,u)):p.n=u:p.v=u);try{if(l=2,c){if(i||(o="next"),t=c[o]){if(!(t=t.call(c,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,i<2&&(i=0)}else 1===i&&(t=c.return)&&t.call(c),i<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),i=1);c=e}else if((t=(f=p.n<0)?u:r.call(n,p))!==a)break}catch(t){c=e,i=1,u=t}finally{l=1}}return{value:t,done:f}}}(r,o,c),!0),l}var a={};function i(){}function u(){}function l(){}t=Object.getPrototypeOf;var s=[][n]?t(t([][n]())):(xe(t={},n,function(){return this}),t),f=l.prototype=i.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,xe(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=l,xe(f,"constructor",l),xe(l,"constructor",u),u.displayName="GeneratorFunction",xe(l,o,"GeneratorFunction"),xe(f),xe(f,o,"Generator"),xe(f,n,function(){return this}),xe(f,"toString",function(){return"[object Generator]"}),(we=function(){return{w:c,m:p}})()}function xe(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}xe=function(e,t,r,n){function c(t,r){xe(e,t,function(e){return this._invoke(t,r,e)})}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(c("next",0),c("throw",1),c("return",2))},xe(e,t,r,n)}function Se(e,t,r,n,o,c,a){try{var i=e[c](a),u=i.value}catch(e){return void r(e)}i.done?t(u):Promise.resolve(u).then(n,o)}function Ee(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var c=e.apply(t,r);function a(e){Se(c,n,o,a,i,"next",e)}function i(e){Se(c,n,o,a,i,"throw",e)}a(void 0)})}}function _e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,c,a,i=[],u=!0,l=!1;try{if(c=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=c.call(r)).done)&&(i.push(n.value),i.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ae(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ae(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Re(e){var t=e.value,r=e.switcher,n=_e((0,d.useState)(!1),2),o=n[0],c=n[1],a=_e((0,d.useState)(r.name),2),i=a[0],s=a[1],f=_e((0,d.useState)(!1),2),v=f[0],h=f[1],b=(0,p.dispatch)(m.A.SWITCHERS),g=function(){var e=Ee(we().m(function e(){var n,o,a;return we().w(function(e){for(;;)switch(e.p=e.n){case 0:return(n=(0,me.cloneDeep)(r)).content=(0,pe.serialize)(t.blocks),c(!0),e.p=1,e.n=2,b.updateSwitcherById(n);case 2:o=e.v,R.Ay.success(o.message),e.n=4;break;case 3:e.p=3,a=e.v,R.Ay.error(a.message),console.error("Submission failed:",a);case 4:return e.p=4,c(!1),e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Ee(we().m(function e(){var t,n;return we().w(function(e){for(;;)switch(e.p=e.n){case 0:return h(!1),(t=(0,me.cloneDeep)(r)).name=i,c(!0),e.p=1,e.n=2,b.updateSwitcherById(t);case 2:e.n=4;break;case 3:e.p=3,n=e.v,R.Ay.error(n.message),console.error("Submission failed:",n);case 4:return e.p=4,c(!1),e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(){return e.apply(this,arguments)}}(),x=(0,p.useSelect)(function(e){return e("x-currency/editor").getDevice()},[]);return React.createElement("div",{className:"x-currency-switcher-header"},React.createElement("label",{className:"header-name-container"},v?React.createElement("input",{type:"text",name:"name",value:i,onChange:function(e){s(e.target.value)},className:"header-name-input",disabled:o}):React.createElement("span",null,i),v?React.createElement(React.Fragment,null,React.createElement(ve.A,{icon:be.A,onClick:o?void 0:w,className:"save-icon ".concat(o?"disabled":"")}),React.createElement(ve.A,{icon:ge.A,onClick:o?void 0:function(){h(!1),s(r.name)},className:"cancel-icon ".concat(o?"disabled":"")})):React.createElement(ve.A,{icon:he.A,onClick:function(){o||h(!0)},className:"edit-icon ".concat(o?"disabled":"")})),(0,G.$)()?React.createElement(u.SelectControl,{value:x,onChange:function(e){(0,p.dispatch)("x-currency/editor").setDevice(e)},options:[{value:"desktop",label:"Desktop"},{value:"tablet",label:"Tablet"},{value:"mobile",label:"Mobile"}]}):"",React.createElement("div",{className:"header-buttons"},React.createElement(u.Button,{variant:"primary",isBusy:o,onClick:g},(0,l.__)("Save Switcher","x-currency")),React.createElement(u.Button,{variant:"secondary",onClick:function(){(0,p.dispatch)("x-currency/editor").setDevice("desktop"),(0,y.doAction)("x-currency-show-switcher-customizer",!1,null)},disabled:o},(0,l.__)("Close","x-currency"))))}function Oe(e){var t=e.switcher,r=(0,f.useStateWithHistory)({}),n=r.value,o=r.setValue;(0,d.useEffect)(function(){(0,ye.registerCoreBlocks)()},[]),(0,d.useEffect)(function(){var e,r=(0,pe.parse)(null!==(e=null==t?void 0:t.content)&&void 0!==e?e:""),n=r.length?{selectionStart:{clientId:r[0].clientId},selectionEnd:{clientId:r[0].clientId}}:null;o({blocks:r,selection:n})},[t]);var c=function(e){var t="all 0.3s ease-in-out";switch(e){case"mobile":return{editor:{width:360,margin:"40px auto",maxWidth:360,borderRadius:10,transition:t,padding:0}};case"tablet":return{editor:{width:620,margin:"40px auto",maxWidth:620,borderRadius:10,transition:t,padding:0}};default:return{editor:{padding:0,transition:t}}}}((0,p.useSelect)(function(e){return e("x-currency/editor").getDevice()},[]));return React.createElement(React.Fragment,null,React.createElement(Re,{switcher:t,value:n}),React.createElement(u.SlotFillProvider,null,React.createElement(u.Popover.Slot,null),React.createElement(de.BlockEditorProvider,{value:n.blocks,selection:n.selection,onInput:function(e,t){var r=t.selection;return o({blocks:e,selection:r},!1)},onChange:function(e,t){var r=t.selection;return o({blocks:e,selection:r},!1)},settings:{hasFixedToolbar:!1,allowedBlockTypes:["x-currency/currency-switcher"]}},React.createElement("div",{className:"block-editor-layout",style:{background:"#DDDDDD"}},React.createElement("div",{className:"block-editor-inspector"},React.createElement(de.BlockInspector,null)),React.createElement("div",{className:"block-editor-editing-area",style:c.editor},React.createElement(de.BlockCanvas,{height:"75vh"}))))))}var ke,je,Te=(0,r(8622).Ay)(u.Modal)(fe||(ke=["\n\t.components-modal__content {\n\t\tpadding: 0;\n\t}\n"],je||(je=ke.slice(0)),fe=Object.freeze(Object.defineProperties(ke,{raw:{value:Object.freeze(je)}}))));function Ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,c,a,i=[],u=!0,l=!1;try{if(c=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=c.call(r)).done)&&(i.push(n.value),i.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Fe(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Fe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Ie(e){var t=e.switchers,r=Ce((0,d.useState)(!1),2),n=r[0],o=r[1],c=Ce((0,d.useState)(null),2),a=c[0],i=c[1];function u(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=(0,me.find)(t,{id:r});i(n),(0,p.dispatch)(m.A.SWITCHERS).setBuilderSwitcher(n),o(e)}return(0,d.useEffect)(function(){return(0,y.addAction)("x-currency-show-switcher-customizer","x-currency",u),function(){(0,y.removeAction)("x-currency-show-switcher-customizer","x-currency",u)}},[u]),React.createElement(React.Fragment,null,n&&React.createElement(Te,{onRequestClose:function(){(0,y.doAction)("x-currency-show-switcher-customizer",!1,null)},isDismissible:!1,open:n,style:{padding:0},shouldCloseOnEsc:!1,__experimentalHideHeader:!0,isFullScreen:!0},React.createElement(Oe,{switcher:a})))}var Pe=function(){(0,y.doAction)("x-currency-show-switcher-drawer",!0)},Ge=(0,p.withSelect)(function(e){var t=e(m.A.SWITCHERS),r=t.getSwitchers,n=t.isLoading;return{switchers:r(),isLoading:n()}}),Ne=(0,p.withDispatch)(function(e){return{}}),Be=(0,f.compose)([Ge,Ne])(function(e){var t=e.switchers,r=e.isLoading;return React.createElement(E,{title:(0,l.__)("Switchers","x-currency"),extra:React.createElement(u.Flex,null,React.createElement(u.FlexBlock,null,React.createElement(v.Ay,{type:"primary",icon:React.createElement(b.A,null),onClick:Pe},(0,l.__)("Add New Switcher","x-currency"))))},React.createElement(h.A,{rowKey:"id",dataSource:t,columns:se,loading:r,pagination:!1}),React.createElement(L,null),React.createElement(Ie,{switchers:t}))});const De=(0,d.memo)(Be);var ze=r(1647);function Me(){return React.createElement(i.A,{key:"switchers"},React.createElement(u.Fill,{name:s.A.PRIMARY_HEADER_NAME},(0,l.__)("Switchers","x-currency")),React.createElement(ze.A,null),React.createElement(De,null))}}}]);